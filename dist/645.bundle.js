"use strict";(self.webpackChunkreact_boiler_plate=self.webpackChunkreact_boiler_plate||[]).push([[645],{9645:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var r=a(4942),l=a(8152),n=a(7294),c=a(6195),o=a(2418),m=a(5302),s=a(6085),d=a(3997),i=a(2667);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=Object.freeze({address1:"",address2:"",dob:"1985-12-07",email:"",firstName:"",landmark:"",langKey:"en",lastName:"",otp:"",password:"",phoneNumber:"",pincode:"",qrCodeId:"",role:"",tenantId:0,userName:""});const b=function(e){var t=e.editUserData,a=(e.userToBeEdit,e.closePopUpHandler),m=e.fetchUsersData,s=(0,n.useState)(E),d=(0,l.Z)(s,2),u=d[0],b=d[1],f=(0,n.useState)(E),N=(0,l.Z)(f,2),v=(N[0],N[1],(0,n.useState)([])),h=(0,l.Z)(v,2),g=h[0],y=h[1],O=(0,n.useState)(""),w=(0,l.Z)(O,2),P=w[0],C=w[1];(0,n.useEffect)((function(){t&&b(p({},t))}),[t]);var x=function(e){b(p(p({},u),{},(0,r.Z)({},e.target.name,e.target.value.trim())))},S=function(e){var t=[];e&&400==e.status?(e.fieldErrors&&e.fieldErrors instanceof Array&&e.fieldErrors.forEach((function(e){return t.push("".concat(e.field,": ").concat(e.message))})),t.length>0&&(y(t),window.scrollTo(100,100))):e&&401==e.status&&(y([e.error]),window.scrollTo(100,100))},U=function(e){e.success?(y([]),C(e.msg),a(),(0,i.rG)(),m()):y([e.msg])},j="",A="",D="";return g.length>0?(j=g.map((function(e){return n.createElement("li",{key:e},e)})),A={color:"red",fontSize:"14px",marginTop:"26px"}):D={color:"green",fontSize:"14px",marginTop:"26px"},n.createElement("div",{className:"modal right fade show",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel2",style:{display:"block",paddingRight:"15px"}},n.createElement("div",{className:"modal-dialog",role:"document"},n.createElement("div",{className:"modal-content"},n.createElement("div",{className:"modal-header"},n.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Add User"),n.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a},n.createElement("span",{"aria-hidden":"true"},"Ã—"))),n.createElement("div",{className:"modal-body"},n.createElement("form",{onSubmit:function(e){return e.preventDefault(),t&&new c.Z("",U,S,!1).post("".concat(o.Z.login.BASE_URL).concat(o.Z.User.UPDATE_USER),u),u.userName=u.phoneNumber,new c.Z("",U,S,!1).post(o.Z.login.BASE_URL+o.Z.User.CREATE_NEW_USER,u)}},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"First Name"),n.createElement("input",{type:"text",className:"form-control",placeholder:"First Name",name:"firstName",value:u&&u.firstName,onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"Last Name"),n.createElement("input",{type:"text",className:"form-control",placeholder:"Last Name",name:"lastName",value:u&&u.lastName,onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"Address1"),n.createElement("input",{type:"text",className:"form-control",placeholder:"Address1",name:"address1",value:u&&u.address1,required:!0,onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"Address2"),n.createElement("input",{type:"text",className:"form-control",placeholder:"Address2",name:"address2",value:u&&u.address2,onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"Land Mark"),n.createElement("input",{type:"text",className:"form-control",placeholder:"Land Mark",name:"landmark",value:u&&u.landmark,onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"Pin Code"),n.createElement("input",{type:"number",className:"form-control",placeholder:"Pin Code",name:"pincode",value:u&&u.pincode,required:!0,onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"Email Id"),n.createElement("input",{type:"email",className:"form-control",placeholder:"Email Id",name:"email",value:u&&u.email,required:!0,onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"DOB"),n.createElement("input",{type:"date",className:"form-control",name:"dob",value:u&&u.dob,min:"1950-01-01",max:"2000-12-31",onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"Mobile"),n.createElement("input",{type:"number",className:"form-control",placeholder:"Mobile",name:"phoneNumber",value:u&&u.phoneNumber,required:!0,onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleInputEmail1"},"Password"),n.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",required:!0,onChange:x}))),n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"form-group"},n.createElement("label",{for:"exampleFormControlSelect1"},"User Role"),n.createElement("select",{className:"form-control",name:"role",required:!0,onChange:x},n.createElement("option",{value:""},"Choose Role"),n.createElement("option",{value:"PTM_VENDOR"},"Vendor"),n.createElement("option",{value:"PTM_SUB_ADMIN"},"Sub Admin"))))),n.createElement("div",{className:"modal-footer"},n.createElement("button",{type:"button",className:"btn btn-primary themebtn transparent","data-dismiss":"modal",onClick:a},"Close"),n.createElement("button",{type:"submit",className:"btn btn-primary themebtn"},t?"Update User":"Save User")),n.createElement("div",null,j&&A?n.createElement("ul",{style:A},j):P&&D?n.createElement("div",{style:D},P):""))))))};var f=a(4494);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var v={PTM_VENDOR:"Vendor",PTM_ADMIN:"Admin",PTM_SUB_ADMIN:"Sub Admin"};const h=(0,f.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)}))((function(e){var t=(0,n.useState)(!1),a=(0,l.Z)(t,2),r=a[0],i=a[1],u=(0,n.useState)(""),p=(0,l.Z)(u,2),E=p[0],f=p[1],N=(0,n.useState)(""),h=(0,l.Z)(N,2),g=h[0],y=h[1],O=e.dispatch,w=function(){O((0,m.iI)())};(0,n.useEffect)((function(){w()}),[]);var P=e.users,C=P&&P.usersList&&P.usersList.data;return n.createElement("div",{className:"container_full"},n.createElement(s.Z,e),n.createElement("div",{className:"content_wrapper"},n.createElement("div",{className:"container-fluid"},n.createElement(d.Z,{heading:"Users",value:"Users"}),n.createElement("div",{className:"row"},n.createElement("div",{className:" col-sm-12"},n.createElement("div",{className:"card card-shadow mb-4"},n.createElement("div",{className:"card-header fund-modal"},n.createElement("div",{className:"card-title"}," "),n.createElement("button",{type:"button",className:"btn-common","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){document.body.classList.add("modal-open"),i(!0)}},"Add User"),r?n.createElement(b,{closePopUpHandler:function(){y(""),document.body.classList.remove("modal-open"),i(!1)},fetchUsersData:w,props:e,editUserData:g,userToBeEdit:E}):""),n.createElement("div",{className:"card-header"},n.createElement("div",{className:"card-title"},n.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},n.createElement("button",{type:"button",className:"btn-common"},"Copy"),n.createElement("button",{type:"button",className:"btn-common"},"CSV"),n.createElement("button",{type:"button",className:"btn-common"},"Excel"),n.createElement("button",{type:"button",className:"btn-common"},"PDF"),n.createElement("button",{type:"button",className:"btn-common"},"Print")))),n.createElement("div",{className:"card-body"},n.createElement("table",{id:"bs4-table",className:"table table-bordered table-striped"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Id"),n.createElement("th",null,"Company Name"),n.createElement("th",null,"Mobile"),n.createElement("th",null,"Email"),n.createElement("th",null,"Role"),n.createElement("th",null,"Status"),n.createElement("th",null,"Action"))),n.createElement("tbody",null,C&&Array.isArray(C)?C.map((function(e,t){var a="";return e.role&&v[e.role]&&(a=v[e.role].toLowerCase().replace(" ","-")),n.createElement("tr",{key:e.userName},n.createElement("td",null,t+1),n.createElement("td",null,"".concat(e.firstName," ").concat(e.lastName)),n.createElement("td",null,e.userName),n.createElement("td",null,e.email),n.createElement("td",{className:a},v[e.role]||"NA"),n.createElement("td",{className:"done"},"Active"),n.createElement("td",{onClick:function(){return t=e.userName,i(!0),f(t),new c.Z("",(function(e,t){1==e.success&&y(e.data)}),(function(e){}),!1).get("".concat(o.Z.login.BASE_URL).concat(o.Z.User.EDIT_USER.replace("{userId}",t)));var t}},"Edit"))})):"")))))))))}))}}]);
//# sourceMappingURL=645.bundle.js.map